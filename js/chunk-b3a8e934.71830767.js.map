{"version":3,"sources":["webpack:///./src/assets/eventBus.js","webpack:///./src/fx/views/product/ticket-add.vue?e1c8","webpack:///src/fx/views/product/ticket-add.vue","webpack:///./src/fx/views/product/ticket-add.vue?40e2","webpack:///./src/fx/views/product/ticket-add.vue"],"names":["vue__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","__webpack_exports__","Vue","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","vo","rules","ruleValidate","label-width","label","prop","staticStyle","width","readonly","value","callback","$$v","productName","expression","placeholder","$set","_l","item","key","id","_v","_s","name","margin-left","type","on","on-change","smsChange","title","min","formatter","parser","ticketFlag","_e","realName","autosize","minRows","maxRows","files","imgs","size","format","accept","click","$event","handleSubmit","preventDefault","$router","go","staticRenderFns","ticket_addvue_type_script_lang_js_","components","OssUpload","upload","data","voucherList","voucherTemplateList","productId","maId","voucherId","ticketDict","marketPrice","minPrice","settlePrice","sidDayCount","sidDayQuantity","minBuyQuantity","maxBuyQuantity","lowUseQuantity","bookNotes","userNotes","voucherMsg","voucherTemplate","ticketMsg","required","message","trigger","validator","computed","generateAddOrUpdate","Object","objectSpread","stringify_default","map","link","Number","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","res","res1","wrap","_context","prev","next","$route","params","get","sent","success","stop","apply","arguments","methods","_handleSubmit","_callee2","valid","result","_context2","$refs","validate","post","$Notice","eventBus","$emit","push","$Message","error","_x","console","log","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","tem","content","err","return","product_ticket_addvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-b3a8e934.71830767.js","sourcesContent":["import Vue from 'vue';\r\nexport default new Vue();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('Form',{ref:\"vo\",attrs:{\"model\":_vm.vo,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"产品名\",\"prop\":\"productName\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"readonly\":\"\"},model:{value:(_vm.productName),callback:function ($$v) {_vm.productName=$$v},expression:\"productName\"}})],1),_c('FormItem',{attrs:{\"label\":\"子产品名\",\"prop\":\"name\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"placeholder\":\"请输入子产品\"},model:{value:(_vm.vo.name),callback:function ($$v) {_vm.$set(_vm.vo, \"name\", $$v)},expression:\"vo.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"凭证配置\",\"prop\":\"voucherId\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.vo.voucherId),callback:function ($$v) {_vm.$set(_vm.vo, \"voucherId\", $$v)},expression:\"vo.voucherId\"}},_vm._l((_vm.voucherList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"success\"}},[_vm._v(\"拉取产品\")])],1),_c('FormItem',{attrs:{\"label\":\"短信模板\",\"prop\":\"voucherTemplate\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},on:{\"on-change\":_vm.smsChange},model:{value:(_vm.vo.voucherTemplate),callback:function ($$v) {_vm.$set(_vm.vo, \"voucherTemplate\", $$v)},expression:\"vo.voucherTemplate\"}},_vm._l((_vm.voucherTemplateList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.title))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"市场价\",\"prop\":\"marketPrice\"}},[_c('InputNumber',{attrs:{\"min\":0,\"formatter\":function (value){ return value/100; },\"parser\":function (value){ return value*100; }},model:{value:(_vm.vo.marketPrice),callback:function ($$v) {_vm.$set(_vm.vo, \"marketPrice\", $$v)},expression:\"vo.marketPrice\"}})],1),_c('FormItem',{attrs:{\"label\":\"团/散\",\"prop\":\"ticketFlag\"}},[_c('RadioGroup',{model:{value:(_vm.vo.ticketFlag),callback:function ($$v) {_vm.$set(_vm.vo, \"ticketFlag\", $$v)},expression:\"vo.ticketFlag\"}},[_c('Radio',{attrs:{\"label\":\"2001\"}},[_vm._v(\"团\")]),_c('Radio',{attrs:{\"label\":\"2002\"}},[_vm._v(\"散\")])],1)],1),(_vm.vo.ticketFlag ==='2001')?_c('FormItem',{attrs:{\"label\":\"最低购买数\",\"prop\":\"ticketFlag\"}},[_c('InputNumber',{staticStyle:{\"width\":\"600px\"},attrs:{\"min\":1},model:{value:(_vm.vo.minBuyQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"minBuyQuantity\", $$v)},expression:\"vo.minBuyQuantity\"}})],1):_vm._e(),(_vm.vo.ticketFlag ==='2002')?_c('FormItem',{attrs:{\"label\":\"最高购买数\",\"prop\":\"ticketFlag\"}},[_c('InputNumber',{staticStyle:{\"width\":\"600px\"},attrs:{\"min\":1},model:{value:(_vm.vo.maxBuyQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"maxBuyQuantity\", $$v)},expression:\"vo.maxBuyQuantity\"}})],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"成人/儿童\",\"prop\":\"ticketDict\"}},[_c('RadioGroup',{model:{value:(_vm.vo.ticketDict),callback:function ($$v) {_vm.$set(_vm.vo, \"ticketDict\", $$v)},expression:\"vo.ticketDict\"}},[_c('Radio',{attrs:{\"label\":3001}},[_vm._v(\"成人\")]),_c('Radio',{attrs:{\"label\":3002}},[_vm._v(\"儿童\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"实名制\",\"prop\":\"realName\"}},[_c('RadioGroup',{model:{value:(_vm.vo.realName),callback:function ($$v) {_vm.$set(_vm.vo, \"realName\", $$v)},expression:\"vo.realName\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),(_vm.vo.realName ==='1')?_c('FormItem',{attrs:{\"label\":\"身份证次数限制\"}},[_vm._v(\"一张身份证一天内购买\\n            \"),_c('InputNumber',{staticStyle:{\"width\":\"3%\"},attrs:{\"min\":1},model:{value:(_vm.vo.sidDayCount),callback:function ($$v) {_vm.$set(_vm.vo, \"sidDayCount\", $$v)},expression:\"vo.sidDayCount\"}}),_vm._v(\"次，0表示不限次数，每日最多购买\\n            \"),_c('InputNumber',{staticStyle:{\"width\":\"3%\"},attrs:{\"min\":1},model:{value:(_vm.vo.sidDayQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"sidDayQuantity\", $$v)},expression:\"vo.sidDayQuantity\"}}),_vm._v(\"/张，0表示不限张数\\n        \")],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"预定须知\",\"prop\":\"bookNotes\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请输入使用须知\"},model:{value:(_vm.vo.bookNotes),callback:function ($$v) {_vm.$set(_vm.vo, \"bookNotes\", $$v)},expression:\"vo.bookNotes\"}})],1),_c('FormItem',{attrs:{\"label\":\"使用须知\",\"prop\":\"useNotes\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 10},\"placeholder\":\"请输入预定须知\"},model:{value:(_vm.vo.userNotes),callback:function ($$v) {_vm.$set(_vm.vo, \"userNotes\", $$v)},expression:\"vo.userNotes\"}})],1),_c('FormItem',{attrs:{\"label\":\"图片\",\"prop\":\"imgs\"}},[_c('OssUpload',{attrs:{\"files\":_vm.imgs,\"size\":5,\"format\":['jpg','jpeg','png'],\"accept\":\"image/*\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('vo')}}},[_vm._v(\"提交\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){$event.preventDefault();_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Card>\r\n        <Form ref=\"vo\" :model=\"vo\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n            <FormItem label=\"产品名\" prop=\"productName\">\r\n                <Input readonly v-model=\"productName\" style=\"width:600px\"/>\r\n            </FormItem>\r\n            <FormItem label=\"子产品名\" prop=\"name\">\r\n                <Input v-model=\"vo.name\" placeholder=\"请输入子产品\" style=\"width:600px\"/>\r\n            </FormItem>\r\n            <FormItem label=\"凭证配置\" prop=\"voucherId\">\r\n                <Select v-model=\"vo.voucherId\" style=\"width:200px\">\r\n                    <Option v-for=\"item in voucherList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n                </Select>\r\n                <Button type=\"success\" style=\"margin-left:8px\">拉取产品</Button>\r\n            </FormItem>\r\n            <FormItem label=\"短信模板\" prop=\"voucherTemplate\">\r\n                <Select v-model=\"vo.voucherTemplate\" style=\"width:200px\" @on-change=\"smsChange\">\r\n                    <Option\r\n                        v-for=\"item in voucherTemplateList\"\r\n                        :value=\"item.id\"\r\n                        :key=\"item.id\"\r\n                    >{{ item.title }}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"市场价\" prop=\"marketPrice\">\r\n                <!-- <InputNumber :min=\"1\" v-model=\"vo.marketPrice\" style=\"width:600px\"></InputNumber> -->\r\n                <InputNumber\r\n                    :min=\"0\"\r\n                    v-model=\"vo.marketPrice\"\r\n                    :formatter=\"value=> value/100\"\r\n                    :parser=\"value=>value*100\"\r\n                ></InputNumber>\r\n            </FormItem>\r\n\r\n            <FormItem label=\"团/散\" prop=\"ticketFlag\">\r\n                <RadioGroup v-model=\"vo.ticketFlag\">\r\n                    <Radio label=\"2001\">团</Radio>\r\n                    <Radio label=\"2002\">散</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.ticketFlag ==='2001'\" label=\"最低购买数\" prop=\"ticketFlag\">\r\n                <InputNumber :min=\"1\" v-model=\"vo.minBuyQuantity\" style=\"width:600px\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.ticketFlag ==='2002'\" label=\"最高购买数\" prop=\"ticketFlag\">\r\n                <InputNumber :min=\"1\" v-model=\"vo.maxBuyQuantity\" style=\"width:600px\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem label=\"成人/儿童\" prop=\"ticketDict\">\r\n                <RadioGroup v-model=\"vo.ticketDict\">\r\n                    <Radio :label=\"3001\">成人</Radio>\r\n                    <Radio :label=\"3002\">儿童</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem label=\"实名制\" prop=\"realName\">\r\n                <RadioGroup v-model=\"vo.realName\">\r\n                    <Radio :label=\"1\">是</Radio>\r\n                    <Radio :label=\"0\">否</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.realName ==='1'\" label=\"身份证次数限制\">一张身份证一天内购买\r\n                <InputNumber :min=\"1\" v-model=\"vo.sidDayCount\" style=\"width:3%\"></InputNumber>次，0表示不限次数，每日最多购买\r\n                <InputNumber :min=\"1\" v-model=\"vo.sidDayQuantity\" style=\"width:3%\"></InputNumber>/张，0表示不限张数\r\n            </FormItem>\r\n            <FormItem label=\"预定须知\" prop=\"bookNotes\">\r\n                <Input\r\n                    v-model=\"vo.bookNotes\"\r\n                    type=\"textarea\"\r\n                    :autosize=\"{minRows: 2,maxRows: 5}\"\r\n                    style=\"width:600px\"\r\n                    placeholder=\"请输入使用须知\"\r\n                />\r\n            </FormItem>\r\n            <FormItem label=\"使用须知\" prop=\"useNotes\">\r\n                <Input\r\n                    v-model=\"vo.userNotes\"\r\n                    type=\"textarea\"\r\n                    style=\"width:600px\"\r\n                    :autosize=\"{minRows: 2,maxRows: 10}\"\r\n                    placeholder=\"请输入预定须知\"\r\n                />\r\n            </FormItem>\r\n            <FormItem label=\"图片\" prop=\"imgs\">\r\n                <OssUpload :files=\"imgs\" :size=\"5\" :format=\"['jpg','jpeg','png']\" accept=\"image/*\"/>\r\n            </FormItem>\r\n\r\n            <FormItem>\r\n                <Button type=\"primary\" @click=\"handleSubmit('vo')\">提交</Button>\r\n                <Button @click.prevent=\"$router.go(-1)\" style=\"margin-left: 8px\">返回</Button>\r\n            </FormItem>\r\n        </Form>\r\n    </Card>\r\n</template>\r\n<script>\r\nimport OssUpload from '@/components/upload';\r\nimport bus from '@/assets/eventBus';\r\nexport default {\r\n    name: 'TicketAdd',\r\n    components: { OssUpload },\r\n    data () {\r\n        return {\r\n            voucherList: [],\r\n            voucherTemplateList: [],\r\n            productName: null,\r\n            vo: {\r\n                id: null,\r\n                productId: null,\r\n                maId: null,\r\n                voucherId: null,\r\n                name: null,\r\n                ticketFlag: null,\r\n                ticketDict: null,\r\n                marketPrice: null,\r\n                minPrice: null,\r\n                settlePrice: null,\r\n                sidDayCount: null,\r\n                sidDayQuantity: null,\r\n                minBuyQuantity: null,\r\n                maxBuyQuantity: null,\r\n                lowUseQuantity: null,\r\n                realName: null,\r\n                bookNotes: null,\r\n                userNotes: null,\r\n                imgs: null,\r\n                voucherMsg: null,\r\n                voucherTemplate: null,\r\n                ticketMsg: null\r\n            },\r\n            imgs: [],\r\n            ruleValidate: {\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: '子产品名不能为空'\r\n                    },\r\n                    { trigger: 'blur', validator: null }\r\n                ],\r\n                voucherTemplate: [\r\n                    {\r\n                        required: true,\r\n                        message: '短信不能为空'\r\n                    }\r\n                ],\r\n                maId: [\r\n                    {\r\n                        required: true,\r\n                        message: '码id不能为空',\r\n                        trigger: 'blur'\r\n                    }\r\n                ],\r\n                marketPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入市场价'\r\n                    }\r\n                ],\r\n                settlePrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入结算价'\r\n                    }\r\n                ],\r\n                minPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入最低价格'\r\n                    }\r\n                ],\r\n                ticketDict: [\r\n                    {\r\n                        required: true,\r\n                        message: '请选择成人儿童类型'\r\n                    }\r\n                ],\r\n                ticketFlag: [\r\n                    {\r\n                        required: true,\r\n                        message: '请选择团散类型'\r\n                    }\r\n                ],\r\n                realName: [\r\n                    {\r\n                        required: true,\r\n                        message: '是否实名制'\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    computed: {\r\n        generateAddOrUpdate () {\r\n            return {\r\n                ...this.vo,\r\n                imgs: JSON.stringify(this.imgs.map(item => ({ link: item.name }))),\r\n                ticketDict: Number(this.vo.ticketDict),\r\n                ticketFlag: Number(this.vo.ticketFlag),\r\n                realName: Number(this.vo.realName)\r\n            };\r\n        }\r\n    },\r\n    async created () {\r\n        this.vo.productId = this.$route.params.productId;\r\n        this.productName = this.$route.params.productName;\r\n        const res = await this.get('/api/setting/fxma/list');\r\n        if (res.success) {\r\n            this.voucherList = res.value;\r\n        }\r\n        const res1 = await this.get('api/sms-template/list', { type: 2 });\r\n        if (res1.success) {\r\n            this.voucherTemplateList = res1.value;\r\n        }\r\n    },\r\n    methods: {\r\n        async handleSubmit (name) {\r\n            const valid = await this.$refs.vo.validate();\r\n            if (valid) {\r\n                const result = await this.post(\r\n                    '/api/product/scenic/sub/update',\r\n                    this.generateAddOrUpdate\r\n                );\r\n                if (result.success) {\r\n                    this.$Notice.success({ title: '新增子产品成功' });\r\n                    bus.$emit('scenery-update');\r\n                    this.$router.push('/product/scenery');\r\n                }\r\n            } else {\r\n                this.$Message.error('表单验证失败');\r\n            }\r\n        },\r\n        smsChange (value) {\r\n            console.log(1111);\r\n\r\n            for (const tem of this.voucherTemplateList) {\r\n                console.log(tem);\r\n\r\n                if (tem.id === value) {\r\n                    this.vo.voucherMsg = tem.content;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-add.vue?vue&type=template&id=78754f41&\"\nimport script from \"./ticket-add.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ticket-add.vue\"\nexport default component.exports"],"sourceRoot":""}