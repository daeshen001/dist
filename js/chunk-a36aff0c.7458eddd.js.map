{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./src/fx/views/product/ticket-plan.vue?bb8d","webpack:///src/fx/views/product/ticket-plan.vue","webpack:///./src/fx/views/product/ticket-plan.vue?782c","webpack:///./src/fx/views/product/ticket-plan.vue","webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./node_modules/core-js/library/modules/es6.parse-int.js","webpack:///./node_modules/core-js/library/fn/parse-int.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-int.js","webpack:///./node_modules/core-js/library/fn/date/now.js"],"names":["module","exports","__webpack_require__","$export","S","now","Date","getTime","render","_vm","this","_h","$createElement","_c","_self","_v","_s","$route","params","productSubName","attrs","dashed","ref","model","vo","rules","ruleValidate","label-width","span","label","prop","staticStyle","width","min","formatter","value","parser","parseInt","toFixed","callback","$$v","$set","expression","_l","item","key","id","name","week","type","on","on-change","changDate","autosize","minRows","maxRows","placeholder","readonly","options","disDate","format","placement","isTime","index","required","message","long","icon","click","handleAdd","offset","handleRemove","_e","bookingLimit","ticketFlag","margin-right","margin-left","$event","handleSubmit","preventDefault","$router","go","staticRenderFns","ticket_planvue_type_script_lang_js_","data","disabledDate","date","valueOf","now_default","Weeks","dic","dateRange","productSubId","productId","marketPrice","lowPrice","settlePrice","refundId","saleRuleType","bookingDayLimit","bookingTimeLimit","useSecondLimit","effectiveDay","effectiveStartDate","effectiveEndDate","effectiveType","disableWeek","disableWeeks","disableDate","beginDay","endDay","stock","timeRange","refundRuleList","validator","rule","Error","watch","vo.disableWeeks","handler","val","v","map","w","some","join","parse_int_default","deep","created","_created","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","get","sent","success","stop","apply","arguments","methods","_handleSubmit","_callee2","valid","len","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","i","result","_context2","$refs","validate","$Message","error","abrupt","length","undefined","get_iterator_default","done","console","log","timeRan","t0","return","finish","post","back","concat","handleReset","resetFields","push","pop","transformDeliveryDate","str","Number","toString","padStart","from_default","reduce","n","toConsumableArray","product_ticket_planvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__","$parseInt","$trim","trim","ws","hex","radix","string","String","test","G","F"],"mappings":"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","file":"js/chunk-a36aff0c.7458eddd.js","sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('h1',[_vm._v(_vm._s(this.$route.params.productSubName)+\"--销售计划\")]),_c('Divider',{attrs:{\"dashed\":\"\"}}),_c('Form',{ref:\"vo\",attrs:{\"model\":_vm.vo,\"rules\":_vm.ruleValidate,\"label-width\":85}},[_c('Row',[_c('i-col',{attrs:{\"span\":\"8\"}},[_c('FormItem',{attrs:{\"label\":\"市场价\",\"prop\":\"marketPrice\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0,\"formatter\":function (value) { return (\"\" + (value/100)); },\"parser\":function (value) { return (\"\" + (parseInt((value*100).toFixed(2)))); }},model:{value:(_vm.vo.marketPrice),callback:function ($$v) {_vm.$set(_vm.vo, \"marketPrice\", $$v)},expression:\"vo.marketPrice\"}})],1)],1),_c('i-col',{attrs:{\"span\":\"8\"}},[_c('FormItem',{attrs:{\"label\":\"最低价\",\"prop\":\"lowPrice\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0,\"formatter\":function (value) { return (\"\" + (value/100)); },\"parser\":function (value) { return (\"\" + (parseInt((value*100).toFixed(2)))); }},model:{value:(_vm.vo.lowPrice),callback:function ($$v) {_vm.$set(_vm.vo, \"lowPrice\", $$v)},expression:\"vo.lowPrice\"}})],1)],1)],1),_c('Row',[_c('i-col',{attrs:{\"span\":\"8\"}},[_c('FormItem',{attrs:{\"label\":\"结算价\",\"prop\":\"settlePrice\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0,\"formatter\":function (value) { return (\"\" + (value/100)); },\"parser\":function (value) { return (\"\" + (parseInt((value*100).toFixed(2)))); }},model:{value:(_vm.vo.settlePrice),callback:function ($$v) {_vm.$set(_vm.vo, \"settlePrice\", $$v)},expression:\"vo.settlePrice\"}})],1)],1),_c('i-col',{attrs:{\"span\":\"8\"}},[_c('FormItem',{attrs:{\"label\":\"库存\",\"prop\":\"stock\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":1},model:{value:(_vm.vo.stock),callback:function ($$v) {_vm.$set(_vm.vo, \"stock\", $$v)},expression:\"vo.stock\"}})],1)],1)],1),_c('Divider',{attrs:{\"dashed\":\"\"}}),_c('FormItem',{attrs:{\"label\":\"退货规则\",\"prop\":\"refundId\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.vo.refundId),callback:function ($$v) {_vm.$set(_vm.vo, \"refundId\", $$v)},expression:\"vo.refundId\"}},_vm._l((_vm.refundRuleList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"售卖规则\",\"prop\":\"saleRuleType\"}},[_c('RadioGroup',{model:{value:(_vm.vo.saleRuleType),callback:function ($$v) {_vm.$set(_vm.vo, \"saleRuleType\", $$v)},expression:\"vo.saleRuleType\"}},[_c('Radio',{attrs:{\"label\":5060}},[_vm._v(\"不允许超卖\")]),_c('Radio',{attrs:{\"label\":5061}},[_vm._v(\"允许超卖\")]),_c('Radio',{attrs:{\"label\":5062}},[_vm._v(\"超卖需审核\")]),_c('Radio',{attrs:{\"label\":5063}},[_vm._v(\"必须审核（全人工，不走库存）\")]),_c('Radio',{attrs:{\"label\":5064}},[_vm._v(\"必须审核（允许超卖）\")]),_c('Radio',{attrs:{\"label\":5065}},[_vm._v(\"必须审核（不允许超卖）\")])],1)],1),_c('Divider',{attrs:{\"dashed\":\"\"}}),_c('FormItem',{attrs:{\"label\":\"禁用星期\",\"prop\":\"disableWeeks\"}},[_c('CheckboxGroup',{model:{value:(_vm.vo.disableWeeks),callback:function ($$v) {_vm.$set(_vm.vo, \"disableWeeks\", $$v)},expression:\"vo.disableWeeks\"}},_vm._l((_vm.Weeks),function(week){return _c('Checkbox',{key:week,attrs:{\"label\":week}})}),1)],1),_c('FormItem',{attrs:{\"label\":\"禁用日期\",\"prop\":\"disableDate\"}},[_c('Row',[_c('DatePicker',{attrs:{\"type\":\"date\"},on:{\"on-change\":_vm.changDate}})],1),_c('Row',[_c('Input',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows:8},\"placeholder\":\"选择禁用日期\",\"readonly\":\"\"},model:{value:(_vm.vo.disableDate),callback:function ($$v) {_vm.$set(_vm.vo, \"disableDate\", $$v)},expression:\"vo.disableDate\"}})],1)],1),_c('Divider',{attrs:{\"dashed\":\"\"}}),_c('FormItem',{attrs:{\"label\":\"售卖时间\",\"prop\":\"dateRange\"}},[_c('DatePicker',{staticStyle:{\"width\":\"200px\"},attrs:{\"options\":_vm.disDate,\"format\":\"yyyy-MM-dd\",\"type\":\"daterange\",\"placement\":\"bottom-start\",\"placeholder\":\"选择售卖时间段\"},model:{value:(_vm.vo.dateRange),callback:function ($$v) {_vm.$set(_vm.vo, \"dateRange\", $$v)},expression:\"vo.dateRange\"}})],1),_c('FormItem',{attrs:{\"label\":\"是否按时间段\",\"prop\":\"isTime\"}},[_c('RadioGroup',{model:{value:(_vm.isTime),callback:function ($$v) {_vm.isTime=$$v},expression:\"isTime\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),(_vm.isTime ===1)?_c('Row',[_vm._l((_vm.vo.timeRange),function(item,index){return _c('FormItem',{key:index,attrs:{\"label\":'时间段' + item.index,\"prop\":(\"timeRange.\" + index + \".timeRan\"),\"rules\":{required: true, message: '时间段不能为空'}}},[_c('TimePicker',{staticStyle:{\"width\":\"168px\"},attrs:{\"format\":\"HH:mm\",\"type\":\"timerange\",\"placement\":\"bottom-end\",\"placeholder\":\"请选择时间段\"},model:{value:(item.timeRan),callback:function ($$v) {_vm.$set(item, \"timeRan\", $$v)},expression:\"item.timeRan\"}})],1)}),_c('FormItem',[_c('Row',[_c('i-col',{attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"long\":\"\",\"icon\":\"md-add\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加\")])],1),_c('i-col',{attrs:{\"span\":\"2\",\"offset\":\"1\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"long\":\"\",\"icon\":\"md-remove\"},on:{\"click\":_vm.handleRemove}},[_vm._v(\"删除\")])],1)],1)],1)],2):_vm._e(),_c('FormItem',{attrs:{\"label\":\"预订使用限制\",\"prop\":\"effectiveType\"}},[_c('RadioGroup',{model:{value:(_vm.vo.bookingLimit),callback:function ($$v) {_vm.$set(_vm.vo, \"bookingLimit\", $$v)},expression:\"vo.bookingLimit\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1),(_vm.vo.bookingLimit===1)?_c('Row',[_c('i-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"游玩前\\n                    \"),_c('InputNumber',{staticStyle:{\"width\":\"20%\"},attrs:{\"min\":1},model:{value:(_vm.vo.bookingDayLimit),callback:function ($$v) {_vm.$set(_vm.vo, \"bookingDayLimit\", $$v)},expression:\"vo.bookingDayLimit\"}}),_vm._v(\"天\\n                    \"),_c('TimePicker',{staticStyle:{\"width\":\"168px\"},attrs:{\"format\":\"HH:mm\",\"placement\":\"bottom-end\",\"placeholder\":\"\"},model:{value:(_vm.vo.bookingTimeLimit),callback:function ($$v) {_vm.$set(_vm.vo, \"bookingTimeLimit\", $$v)},expression:\"vo.bookingTimeLimit\"}}),_vm._v(\"时:分之前预订。\\n                \")],1),_c('i-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"游玩当天\\n                    \"),_c('InputNumber',{staticStyle:{\"width\":\"20%\"},attrs:{\"min\":0},model:{value:(_vm.vo.useSecondLimit),callback:function ($$v) {_vm.$set(_vm.vo, \"useSecondLimit\", $$v)},expression:\"vo.useSecondLimit\"}}),_vm._v(\"秒后可用\\n                \")],1)],1):_vm._e()],1),(_vm.vo.ticketFlag ==='2002')?_c('FormItem',{attrs:{\"label\":\"预定时间限制天\",\"prop\":\"minPrice\"}},[_c('InputNumber',{staticStyle:{\"width\":\"98%\"},attrs:{\"min\":1},model:{value:(_vm.vo.lowPrice),callback:function ($$v) {_vm.$set(_vm.vo, \"lowPrice\", $$v)},expression:\"vo.lowPrice\"}}),_vm._v(\"/天\\n        \")],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"有效天数\",\"prop\":\"effectiveType\"}},[_c('RadioGroup',{staticStyle:{\"margin-right\":\"83px\"},model:{value:(_vm.vo.effectiveType),callback:function ($$v) {_vm.$set(_vm.vo, \"effectiveType\", $$v)},expression:\"vo.effectiveType\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"预订起\\n                    \"),_c('InputNumber',{staticStyle:{\"width\":\"20%\"},attrs:{\"min\":1},model:{value:(_vm.vo.effectiveDay),callback:function ($$v) {_vm.$set(_vm.vo, \"effectiveDay\", $$v)},expression:\"vo.effectiveDay\"}}),_vm._v(\"天有效\\n                \")],1),_c('Radio',{attrs:{\"label\":2}},[_vm._v(\"有效时间\\n                    \"),_c('DatePicker',{attrs:{\"type\":\"date\"},model:{value:(_vm.vo.effectiveStartDate),callback:function ($$v) {_vm.$set(_vm.vo, \"effectiveStartDate\", $$v)},expression:\"vo.effectiveStartDate\"}}),_vm._v(\"     至     \\n                    \"),_c('DatePicker',{attrs:{\"type\":\"date\"},model:{value:(_vm.vo.effectiveEndDate),callback:function ($$v) {_vm.$set(_vm.vo, \"effectiveEndDate\", $$v)},expression:\"vo.effectiveEndDate\"}})],1)],1)],1),_c('FormItem',{staticStyle:{\"margin-left\":\"250px\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit()}}},[_vm._v(\"提交\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){$event.preventDefault();_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Card>\r\n        <h1>{{this.$route.params.productSubName}}--销售计划</h1>\r\n        <Divider dashed/>\r\n        <Form ref=\"vo\" :model=\"vo\" :rules=\"ruleValidate\" :label-width=\"85\">\r\n            <Row>\r\n                <i-col span=\"8\">\r\n                    <FormItem label=\"市场价\" prop=\"marketPrice\">\r\n                        <!-- <InputNumber :min=\"0\" v-model=\"marketPrice\" style=\"width:200px\"></InputNumber> -->\r\n                        <InputNumber\r\n                            :min=\"0\"\r\n                            v-model=\"vo.marketPrice\"\r\n                            :formatter=\"value =>  `${value/100}`\"\r\n                            :parser=\"value => `${parseInt((value*100).toFixed(2))}`\"\r\n                            style=\"width:200px\"\r\n                        />\r\n                    </FormItem>\r\n                </i-col>\r\n                <i-col span=\"8\">\r\n                    <FormItem label=\"最低价\" prop=\"lowPrice\">\r\n                        <!-- <InputNumber :min=\"0\" v-model=\"lowPrice\" style=\"width:200px\"></InputNumber> -->\r\n                        <InputNumber\r\n                            :min=\"0\"\r\n                            v-model=\"vo.lowPrice\"\r\n                            style=\"width:200px\"\r\n                            :formatter=\"value =>  `${value/100}`\"\r\n                            :parser=\"value => `${parseInt((value*100).toFixed(2))}`\"\r\n                        />\r\n                    </FormItem>\r\n                </i-col>\r\n            </Row>\r\n            <Row>\r\n                <i-col span=\"8\">\r\n                    <FormItem label=\"结算价\" prop=\"settlePrice\">\r\n                        <!-- <InputNumber :min=\"0\" v-model=\"settlePrice\" style=\"width:200px\"></InputNumber> -->\r\n                        <InputNumber\r\n                            :min=\"0\"\r\n                            v-model=\"vo.settlePrice\"\r\n                            style=\"width:200px\"\r\n                            :formatter=\"value =>  `${value/100}`\"\r\n                            :parser=\"value => `${parseInt((value*100).toFixed(2))}`\"\r\n                        />\r\n                    </FormItem>\r\n                </i-col>\r\n                <i-col span=\"8\">\r\n                    <FormItem label=\"库存\" prop=\"stock\">\r\n                        <InputNumber :min=\"1\" v-model=\"vo.stock\" style=\"width:200px\"></InputNumber>\r\n                    </FormItem>\r\n                </i-col>\r\n            </Row>\r\n            <Divider dashed/>\r\n\r\n            <FormItem label=\"退货规则\" prop=\"refundId\">\r\n                <Select v-model=\"vo.refundId\" style=\"width:200px\">\r\n                    <Option v-for=\"item in refundRuleList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n                </Select>\r\n            </FormItem>\r\n\r\n            <FormItem label=\"售卖规则\" prop=\"saleRuleType\">\r\n                <RadioGroup v-model=\"vo.saleRuleType\">\r\n                    <Radio :label=\"5060\">不允许超卖</Radio>\r\n                    <Radio :label=\"5061\">允许超卖</Radio>\r\n                    <Radio :label=\"5062\">超卖需审核</Radio>\r\n                    <Radio :label=\"5063\">必须审核（全人工，不走库存）</Radio>\r\n                    <Radio :label=\"5064\">必须审核（允许超卖）</Radio>\r\n                    <Radio :label=\"5065\">必须审核（不允许超卖）</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <Divider dashed/>\r\n\r\n            <FormItem label=\"禁用星期\" prop=\"disableWeeks\">\r\n                <CheckboxGroup v-model=\"vo.disableWeeks\">\r\n                    <Checkbox :label=\"week\" v-for=\"week in Weeks\" :key=\"week\"></Checkbox>\r\n                </CheckboxGroup>\r\n            </FormItem>\r\n            <FormItem label=\"禁用日期\" prop=\"disableDate\">\r\n                <Row>\r\n                    <DatePicker type=\"date\" @on-change=\"changDate\"></DatePicker>\r\n                </Row>\r\n                <Row>\r\n                    <Input\r\n                        v-model=\"vo.disableDate\"\r\n                        type=\"textarea\"\r\n                        :autosize=\"{minRows: 2,maxRows:8}\"\r\n                        placeholder=\"选择禁用日期\"\r\n                        style=\"width:50%\"\r\n                        readonly\r\n                    />\r\n                </Row>\r\n            </FormItem>\r\n            <Divider dashed/>\r\n            <FormItem label=\"售卖时间\" prop=\"dateRange\">\r\n                <DatePicker\r\n                    v-model=\"vo.dateRange\"\r\n                    :options=\"disDate\"\r\n                    format=\"yyyy-MM-dd\"\r\n                    type=\"daterange\"\r\n                    placement=\"bottom-start\"\r\n                    placeholder=\"选择售卖时间段\"\r\n                    style=\"width: 200px\"\r\n                />\r\n                <!-- <Row>\r\n          <i-col span=\"1\">开始时间</i-col>\r\n          <i-col span=\"2\">\r\n            <DatePicker format=\"yyyy-MM-dd\" type=\"date\" v-model=\"vo.beginDay\"></DatePicker>\r\n          </i-col>\r\n          <i-col span=\"1\" style=\"text-align: center\">-</i-col>\r\n          <i-col span=\"1\">结束时间</i-col>\r\n          <i-col span=\"2\">\r\n            <DatePicker type=\"date\" format=\"yyyy-MM-dd\" v-model=\"vo.endDay\"></DatePicker>\r\n          </i-col>\r\n        </Row>-->\r\n            </FormItem>\r\n            <FormItem label=\"是否按时间段\" prop=\"isTime\">\r\n                <RadioGroup v-model=\"isTime\">\r\n                    <Radio :label=\"1\">是</Radio>\r\n                    <Radio :label=\"0\">否</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n\r\n            <Row v-if=\"isTime ===1\">\r\n                <FormItem\r\n                    v-for=\"(item, index) in vo.timeRange\"\r\n                    :key=\"index\"\r\n                    :label=\"'时间段' + item.index\"\r\n                    :prop=\"`timeRange.${index}.timeRan`\"\r\n                    :rules=\"{required: true, message: '时间段不能为空'}\"\r\n                >\r\n                    <!-- <Row>\r\n                        <i-col span=\"6\">\r\n                            <TimePicker\r\n                                format=\"HH:mm\"\r\n                                v-model=\"item.startTime\"\r\n                                placement=\"bottom-end\"\r\n                                placeholder=\"开始时间段\"\r\n                                style=\"width: 168px\"\r\n                            />\r\n                        </i-col>\r\n                        <i-col span=\"6\">\r\n                            <TimePicker\r\n                                format=\"HH:mm\"\r\n                                v-model=\"item.endTime\"\r\n                                placement=\"bottom-end\"\r\n                                placeholder=\"结束时间段\"\r\n                                style=\"width: 168px\"\r\n                            />\r\n                        </i-col>\r\n          </Row>-->\r\n                    <TimePicker\r\n                        v-model=\"item.timeRan\"\r\n                        format=\"HH:mm\"\r\n                        type=\"timerange\"\r\n                        placement=\"bottom-end\"\r\n                        placeholder=\"请选择时间段\"\r\n                        style=\"width: 168px\"\r\n                    ></TimePicker>\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Row>\r\n                        <i-col span=\"2\">\r\n                            <Button type=\"dashed\" long @click=\"handleAdd\" icon=\"md-add\">添加</Button>\r\n                        </i-col>\r\n                        <i-col span=\"2\" offset=\"1\">\r\n                            <Button type=\"dashed\" long @click=\"handleRemove\" icon=\"md-remove\">删除</Button>\r\n                        </i-col>\r\n                    </Row>\r\n                </FormItem>\r\n            </Row>\r\n            <FormItem label=\"预订使用限制\" prop=\"effectiveType\">\r\n                <RadioGroup v-model=\"vo.bookingLimit\">\r\n                    <Radio :label=\"1\">是</Radio>\r\n                    <Radio :label=\"0\">否</Radio>\r\n                </RadioGroup>\r\n                <Row v-if=\"vo.bookingLimit===1\">\r\n                    <i-col span=\"6\">游玩前\r\n                        <InputNumber :min=\"1\" v-model=\"vo.bookingDayLimit\" style=\"width:20%\"/>天\r\n                        <TimePicker\r\n                            format=\"HH:mm\"\r\n                            placement=\"bottom-end\"\r\n                            v-model=\"vo.bookingTimeLimit\"\r\n                            placeholder\r\n                            style=\"width: 168px\"\r\n                        />时:分之前预订。\r\n                    </i-col>\r\n                    <i-col span=\"6\">游玩当天\r\n                        <InputNumber :min=\"0\" v-model=\"vo.useSecondLimit\" style=\"width:20%\"/>秒后可用\r\n                    </i-col>\r\n                </Row>\r\n            </FormItem>\r\n\r\n            <FormItem v-if=\"vo.ticketFlag ==='2002'\" label=\"预定时间限制天\" prop=\"minPrice\">\r\n                <InputNumber :min=\"1\" v-model=\"vo.lowPrice\" style=\"width:98%\"></InputNumber>/天\r\n            </FormItem>\r\n\r\n            <FormItem label=\"有效天数\" prop=\"effectiveType\">\r\n                <RadioGroup v-model=\"vo.effectiveType\" style=\"margin-right: 83px\">\r\n                    <Radio :label=\"1\">预订起\r\n                        <InputNumber :min=\"1\" v-model=\"vo.effectiveDay\" style=\"width:20%\"/>天有效\r\n                    </Radio>\r\n                    <Radio :label=\"2\">有效时间\r\n                        <DatePicker type=\"date\" v-model=\"vo.effectiveStartDate\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;至&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <DatePicker type=\"date\" v-model=\"vo.effectiveEndDate\"/>\r\n                    </Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n\r\n            <FormItem style=\"margin-left:250px\">\r\n                <Button type=\"primary\" @click=\"handleSubmit()\">提交</Button>\r\n                <Button @click.prevent=\"$router.go(-1)\" style=\"margin-left: 8px\">返回</Button>\r\n            </FormItem>\r\n        </Form>\r\n    </Card>\r\n</template>\r\n<script>\r\nimport { Weeks } from '@/libs/dic';\r\nexport default {\r\n    name: 'TicketPlan',\r\n    data () {\r\n        return {\r\n            disDate: {\r\n                disabledDate (date) {\r\n                    return date && date.valueOf() < Date.now() - 86400000;\r\n                }\r\n            },\r\n            index: 1,\r\n            isTime: null,\r\n            Weeks,\r\n            dateRange: [],\r\n            vo: {\r\n                id: null,\r\n                productSubId: null,\r\n                productId: null,\r\n                marketPrice: null,\r\n                lowPrice: null,\r\n                settlePrice: null,\r\n                refundId: null,\r\n                saleRuleType: null,\r\n                bookingLimit: null,\r\n                bookingDayLimit: null,\r\n                bookingTimeLimit: null,\r\n                useSecondLimit: null,\r\n                effectiveDay: null,\r\n                effectiveStartDate: null,\r\n                effectiveEndDate: null,\r\n                effectiveType: null,\r\n                disableWeek: null,\r\n                disableWeeks: [],\r\n                disableDate: null,\r\n                beginDay: null,\r\n                endDay: null,\r\n                stock: null,\r\n                timeRange: [],\r\n                dateRange: []\r\n            },\r\n            refundRuleList: [],\r\n            ruleValidate: {\r\n                marketPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入市场价'\r\n                    }\r\n                ],\r\n                lowPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入最低价'\r\n                    }\r\n                ],\r\n                settlePrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入结算价'\r\n                    }\r\n                ],\r\n                saleRuleType: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入售卖规则'\r\n                    }\r\n                ],\r\n                refundId: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入售卖规则'\r\n                    }\r\n                ],\r\n                stock: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入库存'\r\n                    }\r\n                ],\r\n                dateRange: [\r\n                    {\r\n                        required: true,\r\n                        validator: (rule, value, callback) => {\r\n                            if (value[0] === '' || value[1] === '') { callback(new Error('请输入时间段')); }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        'vo.disableWeeks': {\r\n            handler (val) {\r\n                const v = Weeks.map(w => (val.some(v => v === w) ? 1 : 0)).join('');\r\n                this.vo.disableWeek = parseInt(v, 2);\r\n            },\r\n            deep: true\r\n        },\r\n        // marketPrice: {\r\n        //   handler(val) {\r\n        //     if (val === null) this.vo.marketPrice = null;\r\n        //     else this.vo.marketPrice = parseInt((val * 100).toFixed(0));\r\n        //   }\r\n        // },\r\n        // lowPrice: {\r\n        //   handler(val) {\r\n        //     if (val === null) this.vo.lowPrice = null;\r\n        //     else this.vo.lowPrice = parseInt((val * 100).toFixed(0));\r\n        //   }\r\n        // },\r\n        // settlePrice: {\r\n        //   handler(val) {\r\n        //     if (val === null) this.vo.settlePrice = null;\r\n        //     else this.vo.settlePrice = parseInt((val * 100).toFixed(0));\r\n        //   }\r\n        // },\r\n        isTime: {\r\n            handler (val) {\r\n                if (val === 0) this.vo.timeRange = [];\r\n            }\r\n        }\r\n    },\r\n    async created () {\r\n        this.vo.productId = this.$route.params.productId;\r\n        this.vo.productSubId = this.$route.params.productSubId;\r\n        const res = await this.get('api/refund/rules/list');\r\n        if (res.success) {\r\n            this.refundRuleList = res.value;\r\n        }\r\n    },\r\n    methods: {\r\n        async handleSubmit () {\r\n            const valid = this.$refs.vo.validate();\r\n            if (valid) {\r\n                debugger;\r\n                if (this.vo.lowPrice < this.vo.settlePrice) {\r\n                    this.$Message.error('最低价不能小于结算价');\r\n                    return;\r\n                }\r\n                if (this.vo.marketPrice < this.vo.lowPrice) {\r\n                    this.$Message.error('市场价不能小于最低价');\r\n                    return;\r\n                }\r\n\r\n                const len = this.vo.timeRange.length;\r\n                if (len !== 0) {\r\n                    for (const item of this.vo.timeRange) {\r\n                        console.log(item);\r\n                        if (item.timeRan[0] === '') {\r\n                            this.$Message.error('填入时间段有误!');\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (len > 1) {\r\n                        for (let i = 1; i < len; i++) {\r\n                            if (\r\n                                this.vo.timeRange[i].timeRan[0] <\r\n                this.vo.timeRange[i - 1].timeRan[1]\r\n                            ) {\r\n                                this.$Message.error('时间段有重合!');\r\n                                return;\r\n                            }\r\n                            if (this.vo.timeRange[i].timeRan[0] <\r\n                this.vo.timeRange[i].timeRan[1]) {\r\n                                this.$Message.error('开始时间不能等于结束时间!');\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                const result = await this.post('/api/product/plan/add', this.vo);\r\n                if (result.success) {\r\n                    this.$router.back();\r\n                }\r\n            } else {\r\n                this.$Message.error('表单验证失败');\r\n            }\r\n        },\r\n        changDate (val) {\r\n            if (val === '' || val === null) return;\r\n            if (this.vo.disableDate === null) this.vo.disableDate = val;\r\n            else this.vo.disableDate = `${this.vo.disableDate},${val}`;\r\n        },\r\n        handleReset (name) {\r\n            this.$refs[name].resetFields();\r\n        },\r\n        handleAdd () {\r\n            this.vo.timeRange.push({\r\n                timeRan: [],\r\n                index: this.index\r\n            });\r\n            this.index++;\r\n        },\r\n        handleRemove () {\r\n            this.vo.timeRange.pop();\r\n        },\r\n        transformDeliveryDate (val) {\r\n            const str = Number(val)\r\n                .toString(2)\r\n                .padStart(7, '0');\r\n            return Array.from(str).reduce(\r\n                (result, n, index) => [...result, ...(n === '1' ? [Weeks[index]] : [])],\r\n                []\r\n            );\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-plan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-plan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-plan.vue?vue&type=template&id=a7ef5186&\"\nimport script from \"./ticket-plan.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-plan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ticket-plan.vue\"\nexport default component.exports","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","require('../modules/es6.parse-int');\nmodule.exports = require('../modules/_core').parseInt;\n","module.exports = require(\"core-js/library/fn/parse-int\");","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n"],"sourceRoot":""}