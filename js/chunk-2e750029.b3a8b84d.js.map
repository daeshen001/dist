{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/reflect/has.js","webpack:///./src/fx/views/product/ticket-update.vue?5d37","webpack:///src/fx/views/product/ticket-update.vue","webpack:///./src/fx/views/product/ticket-update.vue?f2da","webpack:///./src/fx/views/product/ticket-update.vue","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/assets/eventBus.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/library/modules/es6.reflect.has.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/reflect/has.js"],"names":["__webpack_require__","module","exports","Reflect","has","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","vo","rules","ruleValidate","label-width","label","prop","staticStyle","width","placeholder","value","callback","$$v","$set","expression","_l","item","key","id","_v","_s","name","margin-left","type","on","on-change","smsChange","title","min","formatter","parser","parseInt","toFixed","ticketFlag","_e","realName","autosize","minRows","maxRows","files","imgs","size","format","accept","click","$event","handleSubmit","preventDefault","$router","go","staticRenderFns","ticket_updatevue_type_script_lang_js_","components","OssUpload","upload","data","productName","voucherList","voucherTemplateList","productId","maId","voucherId","ticketDict","marketPrice","minPrice","settlePrice","sidDayCount","sidDayQuantity","minBuyQuantity","maxBuyQuantity","lowUseQuantity","bookNotes","userNotes","voucherMsg","voucherTemplate","ticketMsg","required","message","trigger","validator","computed","generateAddOrUpdate","Object","objectSpread","stringify_default","map","link","Number","mounted","_mounted","asyncToGenerator","regeneratorRuntime","mark","_callee","arr","res","res1","_this","wrap","_context","prev","next","keys_default","filter","has_default","$route","params","productSub","forEach","JSON","parse","status","get","sent","success","stop","apply","arguments","methods","_handleSubmit","_callee2","valid","result","_context2","$refs","validate","post","$Notice","eventBus","$emit","push","$Message","error","_x","console","log","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","tem","content","err","return","parseNumber","product_ticket_updatevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","$export","fails","defined","quot","createHTML","string","tag","attribute","S","String","p1","replace","NAME","exec","O","P","F","test","toLowerCase","split","length","vue__WEBPACK_IMPORTED_MODULE_0__","Vue","url","target","propertyKey"],"mappings":"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","file":"js/chunk-2e750029.b3a8b84d.js","sourcesContent":["require('../../modules/es6.reflect.has');\nmodule.exports = require('../../modules/_core').Reflect.has;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('Form',{ref:\"vo\",attrs:{\"model\":_vm.vo,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"子产品名\",\"prop\":\"name\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"placeholder\":\"请输入子产品\"},model:{value:(_vm.vo.name),callback:function ($$v) {_vm.$set(_vm.vo, \"name\", $$v)},expression:\"vo.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"凭证配置\",\"prop\":\"voucherId\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.vo.voucherId),callback:function ($$v) {_vm.$set(_vm.vo, \"voucherId\", $$v)},expression:\"vo.voucherId\"}},_vm._l((_vm.voucherList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"success\"}},[_vm._v(\"拉取产品\")])],1),_c('FormItem',{attrs:{\"label\":\"短信模板\",\"prop\":\"voucherTemplate\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},on:{\"on-change\":_vm.smsChange},model:{value:(_vm.vo.voucherTemplate),callback:function ($$v) {_vm.$set(_vm.vo, \"voucherTemplate\", $$v)},expression:\"vo.voucherTemplate\"}},_vm._l((_vm.voucherTemplateList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.title))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"市场价\",\"prop\":\"marketPrice\"}},[_c('InputNumber',{staticStyle:{\"width\":\"600px\"},attrs:{\"min\":0,\"formatter\":function (value) { return (\"\" + (value/100)); },\"parser\":function (value) { return (\"\" + (parseInt((value*100).toFixed(2)))); }},model:{value:(_vm.vo.marketPrice),callback:function ($$v) {_vm.$set(_vm.vo, \"marketPrice\", $$v)},expression:\"vo.marketPrice\"}})],1),_c('FormItem',{attrs:{\"label\":\"团/散\",\"prop\":\"ticketFlag\"}},[_c('RadioGroup',{model:{value:(_vm.vo.ticketFlag),callback:function ($$v) {_vm.$set(_vm.vo, \"ticketFlag\", $$v)},expression:\"vo.ticketFlag\"}},[_c('Radio',{attrs:{\"label\":2001}},[_vm._v(\"团\")]),_c('Radio',{attrs:{\"label\":2002}},[_vm._v(\"散\")])],1)],1),(_vm.vo.ticketFlag ===2001)?_c('FormItem',{attrs:{\"label\":\"最低购买数\",\"prop\":\"ticketFlag\"}},[_c('InputNumber',{staticStyle:{\"width\":\"600px\"},attrs:{\"min\":1},model:{value:(_vm.vo.minBuyQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"minBuyQuantity\", $$v)},expression:\"vo.minBuyQuantity\"}})],1):_vm._e(),(_vm.vo.ticketFlag ===2002)?_c('FormItem',{attrs:{\"label\":\"最高购买数\",\"prop\":\"ticketFlag\"}},[_c('InputNumber',{staticStyle:{\"width\":\"600px\"},attrs:{\"min\":1},model:{value:(_vm.vo.maxBuyQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"maxBuyQuantity\", $$v)},expression:\"vo.maxBuyQuantity\"}})],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"成人/儿童\",\"prop\":\"ticketDict\"}},[_c('RadioGroup',{model:{value:(_vm.vo.ticketDict),callback:function ($$v) {_vm.$set(_vm.vo, \"ticketDict\", $$v)},expression:\"vo.ticketDict\"}},[_c('Radio',{attrs:{\"label\":3001}},[_vm._v(\"成人\")]),_c('Radio',{attrs:{\"label\":3002}},[_vm._v(\"儿童\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"实名制\",\"prop\":\"realName\"}},[_c('RadioGroup',{model:{value:(_vm.vo.realName),callback:function ($$v) {_vm.$set(_vm.vo, \"realName\", $$v)},expression:\"vo.realName\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),(_vm.vo.realName ==='1')?_c('FormItem',{attrs:{\"label\":\"身份证次数限制\"}},[_vm._v(\"一张身份证一天内购买\\n            \"),_c('InputNumber',{staticStyle:{\"width\":\"3%\"},attrs:{\"min\":1},model:{value:(_vm.vo.sidDayCount),callback:function ($$v) {_vm.$set(_vm.vo, \"sidDayCount\", $$v)},expression:\"vo.sidDayCount\"}}),_vm._v(\"次，0表示不限次数，每日最多购买\\n            \"),_c('InputNumber',{staticStyle:{\"width\":\"3%\"},attrs:{\"min\":1},model:{value:(_vm.vo.sidDayQuantity),callback:function ($$v) {_vm.$set(_vm.vo, \"sidDayQuantity\", $$v)},expression:\"vo.sidDayQuantity\"}}),_vm._v(\"/张，0表示不限张数\\n        \")],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"预定须知\",\"prop\":\"bookNotes\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请输入使用须知\"},model:{value:(_vm.vo.bookNotes),callback:function ($$v) {_vm.$set(_vm.vo, \"bookNotes\", $$v)},expression:\"vo.bookNotes\"}})],1),_c('FormItem',{attrs:{\"label\":\"使用须知\",\"prop\":\"useNotes\"}},[_c('Input',{staticStyle:{\"width\":\"600px\"},attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 10},\"placeholder\":\"请输入预定须知\"},model:{value:(_vm.vo.userNotes),callback:function ($$v) {_vm.$set(_vm.vo, \"userNotes\", $$v)},expression:\"vo.userNotes\"}})],1),_c('FormItem',{attrs:{\"label\":\"图片\",\"prop\":\"imgs\"}},[_c('OssUpload',{attrs:{\"files\":_vm.imgs,\"size\":5,\"format\":['jpg','jpeg','png'],\"accept\":\"image/*\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('vo')}}},[_vm._v(\"提交\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){$event.preventDefault();_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Card>\r\n        <Form ref=\"vo\" :model=\"vo\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n            <!-- <FormItem label=\"产品名\" prop=\"productName\">\r\n                <Input readonly v-model=\"productName\" style=\"width:600px\"/>\r\n      </FormItem>-->\r\n            <FormItem label=\"子产品名\" prop=\"name\">\r\n                <Input v-model=\"vo.name\" placeholder=\"请输入子产品\" style=\"width:600px\"/>\r\n            </FormItem>\r\n            <FormItem label=\"凭证配置\" prop=\"voucherId\">\r\n                <Select v-model=\"vo.voucherId\" style=\"width:200px\">\r\n                    <Option v-for=\"item in voucherList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n                </Select>\r\n                <Button type=\"success\" style=\"margin-left:8px\">拉取产品</Button>\r\n            </FormItem>\r\n            <FormItem label=\"短信模板\" prop=\"voucherTemplate\">\r\n                <Select v-model=\"vo.voucherTemplate\" style=\"width:200px\" @on-change=\"smsChange\">\r\n                    <Option\r\n                        v-for=\"item in voucherTemplateList\"\r\n                        :value=\"item.id\"\r\n                        :key=\"item.id\"\r\n                    >{{ item.title }}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"市场价\" prop=\"marketPrice\">\r\n                <InputNumber\r\n                    :min=\"0\"\r\n                    v-model=\"vo.marketPrice\"\r\n                    :formatter=\"value =>  `${value/100}`\"\r\n                    :parser=\"value => `${parseInt((value*100).toFixed(2))}`\"\r\n                    style=\"width:600px\"\r\n                ></InputNumber>\r\n            </FormItem>\r\n            <FormItem label=\"团/散\" prop=\"ticketFlag\">\r\n                <RadioGroup v-model=\"vo.ticketFlag\">\r\n                    <Radio :label=\"2001\">团</Radio>\r\n                    <Radio :label=\"2002\">散</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.ticketFlag ===2001\" label=\"最低购买数\" prop=\"ticketFlag\">\r\n                <InputNumber :min=\"1\" v-model=\"vo.minBuyQuantity\" style=\"width:600px\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.ticketFlag ===2002\" label=\"最高购买数\" prop=\"ticketFlag\">\r\n                <InputNumber :min=\"1\" v-model=\"vo.maxBuyQuantity\" style=\"width:600px\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem label=\"成人/儿童\" prop=\"ticketDict\">\r\n                <RadioGroup v-model=\"vo.ticketDict\">\r\n                    <Radio :label=\"3001\">成人</Radio>\r\n                    <Radio :label=\"3002\">儿童</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem label=\"实名制\" prop=\"realName\">\r\n                <RadioGroup v-model=\"vo.realName\">\r\n                    <Radio :label=\"1\">是</Radio>\r\n                    <Radio :label=\"0\">否</Radio>\r\n                </RadioGroup>\r\n            </FormItem>\r\n            <FormItem v-if=\"vo.realName ==='1'\" label=\"身份证次数限制\">一张身份证一天内购买\r\n                <InputNumber :min=\"1\" v-model=\"vo.sidDayCount\" style=\"width:3%\"></InputNumber>次，0表示不限次数，每日最多购买\r\n                <InputNumber :min=\"1\" v-model=\"vo.sidDayQuantity\" style=\"width:3%\"></InputNumber>/张，0表示不限张数\r\n            </FormItem>\r\n            <FormItem label=\"预定须知\" prop=\"bookNotes\">\r\n                <Input\r\n                    v-model=\"vo.bookNotes\"\r\n                    type=\"textarea\"\r\n                    :autosize=\"{minRows: 2,maxRows: 5}\"\r\n                    style=\"width:600px\"\r\n                    placeholder=\"请输入使用须知\"\r\n                />\r\n            </FormItem>\r\n            <FormItem label=\"使用须知\" prop=\"useNotes\">\r\n                <Input\r\n                    v-model=\"vo.userNotes\"\r\n                    type=\"textarea\"\r\n                    style=\"width:600px\"\r\n                    :autosize=\"{minRows: 2,maxRows: 10}\"\r\n                    placeholder=\"请输入预定须知\"\r\n                />\r\n            </FormItem>\r\n            <FormItem label=\"图片\" prop=\"imgs\">\r\n                <OssUpload :files=\"imgs\" :size=\"5\" :format=\"['jpg','jpeg','png']\" accept=\"image/*\"/>\r\n            </FormItem>\r\n\r\n            <FormItem>\r\n                <Button type=\"primary\" @click=\"handleSubmit('vo')\">提交</Button>\r\n                <Button @click.prevent=\"$router.go(-1)\" style=\"margin-left: 8px\">返回</Button>\r\n            </FormItem>\r\n        </Form>\r\n    </Card>\r\n</template>\r\n<script>\r\nimport OssUpload from '@/components/upload';\r\nimport bus from '@/assets/eventBus';\r\nexport default {\r\n    name: 'TicketUpdate',\r\n    components: { OssUpload },\r\n    data () {\r\n        return {\r\n            productName: null,\r\n            voucherList: [],\r\n            voucherTemplateList: [],\r\n            vo: {\r\n                id: null,\r\n                productId: null,\r\n                maId: null,\r\n                voucherId: null,\r\n                name: null,\r\n                ticketFlag: null,\r\n                ticketDict: null,\r\n                marketPrice: null,\r\n                minPrice: null,\r\n                settlePrice: null,\r\n                sidDayCount: null,\r\n                sidDayQuantity: null,\r\n                minBuyQuantity: null,\r\n                maxBuyQuantity: null,\r\n                lowUseQuantity: null,\r\n                realName: null,\r\n                bookNotes: null,\r\n                userNotes: null,\r\n                imgs: null,\r\n                voucherMsg: null,\r\n                voucherTemplate: null,\r\n                ticketMsg: null\r\n            },\r\n            imgs: [],\r\n            ruleValidate: {\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: '子产品名不能为空'\r\n                    },\r\n                    { trigger: 'blur', validator: null }\r\n                ],\r\n                maId: [\r\n                    {\r\n                        required: true,\r\n                        message: '码id不能为空',\r\n                        trigger: 'blur'\r\n                    }\r\n                ],\r\n                marketPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入市场价'\r\n                    }\r\n                ],\r\n                settlePrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入结算价'\r\n                    }\r\n                ],\r\n                minPrice: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入最低价格'\r\n                    }\r\n                ],\r\n                ticketDict: [\r\n                    {\r\n                        required: true,\r\n                        message: '请选择成人儿童类型'\r\n                    }\r\n                ],\r\n                ticketFlag: [\r\n                    {\r\n                        required: true,\r\n                        message: '请选择团散类型'\r\n                    }\r\n                ],\r\n                realName: [\r\n                    {\r\n                        required: true,\r\n                        message: '是否实名制'\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    computed: {\r\n        generateAddOrUpdate () {\r\n            return {\r\n                ...this.vo,\r\n                imgs: JSON.stringify(this.imgs.map(item => ({ link: item.name }))),\r\n                ticketDict: Number(this.vo.ticketDict),\r\n                ticketFlag: Number(this.vo.ticketFlag),\r\n                realName: Number(this.vo.realName)\r\n            };\r\n        }\r\n    },\r\n    async mounted () {\r\n        Object.keys(this.vo)\r\n            .filter(key => Reflect.has(this.$route.params.productSub, key))\r\n            .forEach(key => (this.vo[key] = this.$route.params.productSub[key]));\r\n        this.vo.realName = this.vo.realName ? 1 : 0;\r\n        if (this.vo.imgs) {\r\n            const arr = JSON.parse(this.vo.imgs);\r\n            this.imgs = arr.map(item => ({ name: item.link, status: true }));\r\n        }\r\n        this.vo.productId = this.$route.params.productId;\r\n        this.productName = this.$route.params.productName;\r\n        const res = await this.get('/api/setting/fxma/list');\r\n        if (res.success) {\r\n            this.voucherList = res.value;\r\n        }\r\n        const res1 = await this.get('api/sms-template/list', { type: 2 });\r\n        if (res1.success) {\r\n            this.voucherTemplateList = res1.value;\r\n        }\r\n    },\r\n    methods: {\r\n        async handleSubmit (name) {\r\n            const valid = await this.$refs.vo.validate();\r\n            if (valid) {\r\n                const result = await this.post(\r\n                    '/api/product/scenic/sub/update',\r\n                    this.generateAddOrUpdate\r\n                );\r\n                if (result.success) {\r\n                    this.$Notice.success({ title: '修改子产品成功' });\r\n                    bus.$emit('scenery-update');\r\n                    this.$router.push('/product/scenery');\r\n                }\r\n            } else {\r\n                this.$Message.error('表单验证失败');\r\n            }\r\n        },\r\n        smsChange (value) {\r\n            console.log(1111);\r\n\r\n            for (const tem of this.voucherTemplateList) {\r\n                console.log(tem);\r\n\r\n                if (tem.id === value) {\r\n                    this.vo.voucherMsg = tem.content;\r\n                }\r\n            }\r\n        },\r\n        parseNumber (value) {\r\n            console.log(value);\r\n            return 1;\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-update.vue?vue&type=template&id=b8810b24&\"\nimport script from \"./ticket-update.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-update.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ticket-update.vue\"\nexport default component.exports","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import Vue from 'vue';\r\nexport default new Vue();\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","module.exports = require(\"core-js/library/fn/reflect/has\");"],"sourceRoot":""}