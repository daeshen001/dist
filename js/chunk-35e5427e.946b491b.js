(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35e5427e"],{"3cb7":function(e,t,a){},bd2a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("h2",{staticClass:"title"},[e._v("\n            新增子产品:\n            "),a("Tag",{attrs:{color:"blue"}},[e._v(" "+e._s(e.product.name)+" ")])],1),a("Button",{staticClass:"back",attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[a("Icon",{attrs:{type:"md-arrow-back"}}),e._v("\n            返回\n        ")],1)],1),a("Form",{ref:"addSubProduct",attrs:{model:e.formValidate,"label-width":120,rules:e.validate}},[a("Form-item",{attrs:{label:"子产品名称",prop:"Name"}},[a("Input",{attrs:{maxlength:50},model:{value:e.formValidate.Name,callback:function(t){e.$set(e.formValidate,"Name","string"===typeof t?t.trim():t)},expression:"formValidate.Name"}})],1),a("Form-item",{attrs:{label:"子产品价格(分)",prop:"Price"}},[a("Input",{attrs:{maxlength:10},model:{value:e.formValidate.Price,callback:function(t){e.$set(e.formValidate,"Price","string"===typeof t?t.trim():t)},expression:"formValidate.Price"}})],1),a("Form-item",{attrs:{label:"积分抵扣额度",prop:"Rebate"}},[a("Input",{attrs:{maxlength:3},model:{value:e.formValidate.Rebate,callback:function(t){e.$set(e.formValidate,"Rebate","string"===typeof t?t.trim():t)},expression:"formValidate.Rebate"}})],1),a("Button",{attrs:{type:"primary",long:""},on:{click:e.add}},[e._v("新增")])],1)],1)},i=[],n=(a("96cf"),a("3b8d")),s=(a("7f7f"),{name:"AddSubProduct",data:function(){return{product:{id:this.$route.query.id,name:this.$route.query.name},formValidate:{Name:"",Price:"",Rebate:""},validate:{Price:[{required:!0,trigger:"blur",pattern:/^[0-9]*[1-9][0-9]*$/,message:"产品价格必须为正整数"}],Name:[{required:!0,trigger:"blur",message:"产品名称不能为空"}],Rebate:[{required:!0,trigger:"blur",pattern:/(^[1-9][0-9]$|^[0-9]$|^100$)/,message:"积分抵扣额度必须为0-100的整数"}]},name:null,price:null,rebate:null}},methods:{add:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.addSubProduct.validate();case 2:if(t=e.sent,!t){e.next=14;break}return a=this.$route.query.id,r=this.formValidate.Name,i=this.formValidate.Price,n=this.formValidate.Rebate,e.next=10,this.post("/api/nmedia/sub/product/",{prodId:a,name:r,price:i,rebate:n});case 10:s=e.sent,s.success&&(this.$Notice.success({title:"新增子产品成功"}),this.name=null,this.price=null,this.rebate=null),e.next=15;break;case 14:this.$Message.error("表单验证失败!");case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),o=s,l=(a("c24a"),a("2877")),u=Object(l["a"])(o,r,i,!1,null,"5b4ddfaa",null);u.options.__file="addsubproduct.vue";t["default"]=u.exports},c24a:function(e,t,a){"use strict";var r=a("3cb7"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-35e5427e.946b491b.js.map