{"version":3,"sources":["webpack:///./src/nmedia/views/content/list.vue?6bce","webpack:///src/nmedia/views/content/list.vue","webpack:///./src/nmedia/views/content/list.vue?cf28","webpack:///./src/nmedia/views/content/list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","columns","defaultCols","data","table","staticStyle","margin","overflow","float","total","show-sizer","placement","title","shareModalTitle","model","value","callback","$$v","shareModal","expression","shareCols","shareData","slot","_v","detailModal","margin-top","label-width","label","_s","detailData","name","epId","_f","startDate","endDate","pointsStartDate","pointsEndDate","type","content","pubState","publishTime","width","qcodeModal","color","text-align","id","modifyModal","ref","parent-state","on","click","hideModifyWindow","submitModify","staticRenderFns","listvue_type_script_lang_js_","components","DateFormat","common","ContentPublish","pub","filters","dateFormat","val","Object","mixins","table_col_render","table_data_view","_this","url","query","key","renderDate","h","params","rowData","row","showStr","align","renderActions","viewShare","text","showTips","undefined","config","style","marginRight","modifyActivt","viewDetail","viewQcode","methods","test","_test","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","get","sent","console","log","stop","apply","arguments","r","concat","epName","getShareObject","_getShareObject","_callee2","actId","_context2","_x","cancelShareModal","item","_this2","keys_default","forEach","$refs","modifyRef","initModifyData","submitModifyData","_viewQcode","_callee3","_context3","index_esm","toCanvas","nodeQrCodeOptions","canvas","document","getElementById","content_listvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0e6502.4ca3a856.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i-col',[_c('Table',{attrs:{\"columns\":_vm.defaultCols,\"data\":_vm.table.data}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.table.total,\"show-sizer\":true,\"placement\":\"top\"}})],1)])],1),_c('Modal',{attrs:{\"title\":_vm.shareModalTitle},model:{value:(_vm.shareModal),callback:function ($$v) {_vm.shareModal=$$v},expression:\"shareModal\"}},[_c('Table',{attrs:{\"columns\":_vm.shareCols,\"data\":_vm.shareData}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',[_vm._v(\"关闭\")])],1)])],1),_c('Modal',{model:{value:(_vm.detailModal),callback:function ($$v) {_vm.detailModal=$$v},expression:\"detailModal\"}},[_c('Form',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"活动名称: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.name))])]),_c('FormItem',{attrs:{\"label\":\"资源商: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.epId))])]),_c('FormItem',{attrs:{\"label\":\"活动开始时间: \"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.detailData.startDate)))])]),_c('FormItem',{attrs:{\"label\":\"活动结束时间: \"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.detailData.endDate)))])]),_c('FormItem',{attrs:{\"label\":\"积分有效开始: \"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.detailData.pointsStartDate)))])]),_c('FormItem',{attrs:{\"label\":\"积分结束时间: \"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.detailData.pointsEndDate)))])]),_c('FormItem',{attrs:{\"label\":\"活动类型: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.type))])]),_c('FormItem',{attrs:{\"label\":\"派发对象: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.epId))])]),_c('FormItem',{attrs:{\"label\":\"活动内容: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.content))])]),_c('FormItem',{attrs:{\"label\":\"状态: \"}},[_c('span',[_vm._v(_vm._s(_vm.detailData.pubState))])]),_c('FormItem',{attrs:{\"label\":\"活动发布时间: \"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.detailData.publishTime)))])])],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',[_vm._v(\"关闭\")])],1)])],1),_c('Modal',{attrs:{\"width\":\"360\"},model:{value:(_vm.qcodeModal),callback:function ($$v) {_vm.qcodeModal=$$v},expression:\"qcodeModal\"}},[_c('p',{staticStyle:{\"color\":\"gray\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"右键二维码，点击另存为\")])]),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('canvas',{attrs:{\"id\":\"qr\"}})]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"})]),_c('Modal',{attrs:{\"title\":\"活动内容更新\"},model:{value:(_vm.modifyModal),callback:function ($$v) {_vm.modifyModal=$$v},expression:\"modifyModal\"}},[_c('content-publish',{ref:\"modifyRef\",attrs:{\"parent-state\":true}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.hideModifyWindow}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitModify}},[_vm._v(\"提交更新\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- <Button @click=\"test\">ssdfsdf</Button> -->\r\n        <i-col>\r\n            <Table :columns=\"defaultCols\" :data=\"table.data\"></Table>\r\n            <div style=\"margin: 10px;overflow: hidden\">\r\n                <div style=\"float: right;\">\r\n                    <Page :total=\"table.total\" :show-sizer=\"true\" placement=\"top\"></Page>\r\n                </div>\r\n            </div>\r\n        </i-col>\r\n        <Modal\r\n            v-model=\"shareModal\"\r\n            v-bind:title=\"shareModalTitle\" >\r\n            <Table :columns=\"shareCols\" :data=\"shareData\"></Table>\r\n            <!-- 自定义Bottom区域 -->\r\n            <div slot=\"footer\">\r\n                <div slot=\"footer\">\r\n                    <Button >关闭</Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        <Modal  v-model=\"detailModal\" >\r\n            <Form  :label-width=\"100\" style=\"margin-top:20px;\">\r\n                <FormItem label=\"活动名称: \" >\r\n                    <span>{{detailData.name}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"资源商: \" >\r\n                    <span>{{detailData.epId}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"活动开始时间: \" >\r\n                    <!-- 指定filter -->\r\n                    <span>{{detailData.startDate | dateFormat}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"活动结束时间: \" >\r\n                    <span>{{detailData.endDate | dateFormat}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"积分有效开始: \" >\r\n                    <span>{{detailData.pointsStartDate | dateFormat}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"积分结束时间: \" >\r\n                    <span>{{detailData.pointsEndDate | dateFormat}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"活动类型: \" >\r\n                    <span>{{detailData.type}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"派发对象: \" >\r\n                    <span>{{detailData.epId}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"活动内容: \" >\r\n                    <span>{{detailData.content}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"状态: \" >\r\n                    <span>{{detailData.pubState}}</span>\r\n                </FormItem>\r\n                <FormItem label=\"活动发布时间: \" >\r\n                    <span>{{detailData.publishTime | dateFormat}}</span>\r\n                </FormItem>\r\n            </Form>\r\n            <div slot=\"footer\">\r\n                <div slot=\"footer\">\r\n                    <Button >关闭</Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        <Modal v-model=\"qcodeModal\" width=\"360\">\r\n            <p slot=\"header\" style=\"color:gray;text-align:center\">\r\n                <span>右键二维码，点击另存为</span>\r\n            </p>\r\n            <div style=\"text-align:center\">\r\n                <canvas id=\"qr\"></canvas>\r\n            </div>\r\n            <div slot=\"footer\">\r\n            </div>\r\n        </Modal>\r\n\r\n        <Modal v-model=\"modifyModal\" title=\"活动内容更新\">\r\n            <content-publish v-bind:parent-state=\"true\" ref=\"modifyRef\"/>\r\n            <div slot=\"footer\">\r\n                <div slot=\"footer\">\r\n                    <Button @click=\"hideModifyWindow\">取消</Button>\r\n                    <Button type=\"primary\"  @click=\"submitModify\">提交更新</Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<script>\r\nimport TableDataView from '@/mixins/table-data-view';\r\nimport TableColRender from '@/mixins/table-col-render';\r\nimport { DateFormat } from '@/libs/common';\r\nimport QrCodeWithLogo from 'qr-code-with-logo';\r\nimport ContentPublish from './pub.vue';\r\n\r\nexport default {\r\n    name: 'PublishList',\r\n    components: {\r\n        DateFormat,\r\n        ContentPublish\r\n    },\r\n    // 指定时间，类型显示等过滤器\r\n    filters: {\r\n        dateFormat (val) {\r\n            return DateFormat(val);\r\n        }\r\n    },\r\n    mixins: [ TableColRender, TableDataView ],\r\n    data () {\r\n        return {\r\n            shareModal: false,\r\n            detailModal: false,\r\n            modifyModal: false,\r\n            qcodeModal: false,\r\n            shareModalTitle: '分发对象',\r\n            table: {\r\n                url: '/api/nmedia/content',\r\n                query: {\r\n                    type: 0\r\n                }\r\n            },\r\n            detailData: {\r\n                name: '',\r\n                epId: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                pointsStartDate: '',\r\n                pointsEndDate: '',\r\n                type: '',\r\n                content: '',\r\n                publishTime: '',\r\n                pubState: true\r\n            },\r\n            shareData: [],\r\n            shareCols: [\r\n                {\r\n                    title: '分发商名称',\r\n                    key: 'epName'\r\n                },\r\n                {\r\n                    title: '指定时间',\r\n                    key: 'inTime',\r\n                    render: this.renderDate\r\n                }\r\n            ],\r\n            defaultCols: [\r\n                {\r\n                    title: '资源商',\r\n                    key: 'epName'\r\n                },\r\n                {\r\n                    title: '活动内容',\r\n                    key: 'content'\r\n                },\r\n                {\r\n                    title: '类型',\r\n                    key: 'type',\r\n                    render: (h, params) => {\r\n                        const rowData = params.row;\r\n                        const showStr = rowData.type === 1 ? '形象宣传' : '优惠活动';\r\n                        return h('span', showStr);\r\n                    }\r\n                },\r\n                {\r\n                    title: '开始日期',\r\n                    key: 'startDate',\r\n                    render: this.renderDate\r\n                },\r\n                {\r\n                    title: '结束日期',\r\n                    key: 'endDate',\r\n                    render: this.renderDate\r\n                },\r\n                {\r\n                    title: '发布日期',\r\n                    key: 'publishTime',\r\n                    render: this.renderDate\r\n                }, {\r\n                    title: '派发对象',\r\n                    key: 'shareIds',\r\n                    width: 100,\r\n                    align: 'center',\r\n                    render: (h, params) => this.renderActions(h, params, [{\r\n                        click: () => this.viewShare(params.row),\r\n                        text: '查看'\r\n                    }])\r\n                },\r\n                {\r\n                    title: '状态',\r\n                    width: 120,\r\n                    align: 'center',\r\n                    key: 'status',\r\n                    render: (h, params) => {\r\n                        const rowData = params.row;\r\n                        const showTips = rowData.publishTime === undefined || rowData.publishTime <= rowData.startDate ? '未发布' : '已发布';\r\n                        return h('span', showTips);\r\n                    }\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    key: 'action',\r\n                    width: 200,\r\n                    align: 'center',\r\n                    render: (h, params) => this.renderActions(h, params, [{\r\n                        config: { style: { marginRight: '5px' } },\r\n                        click: () => this.modifyActivt(params.row),\r\n                        text: '编辑'\r\n                    }, {\r\n                        click: () => this.viewDetail(params.row),\r\n                        text: '预览'\r\n                    }])\r\n                }, {\r\n                    title: '推广二维码',\r\n                    key: 'qrcode',\r\n                    width: 100,\r\n                    render: (h, params) => this.renderActions(h, params, [ {\r\n                        click: () => this.viewQcode(params.row),\r\n                        text: '获取'\r\n                    }])\r\n                }\r\n            ]\r\n        };\r\n    },\r\n    methods: {\r\n        async test () {\r\n            const result = await this.get('/api/nmedia/role/o1wxy1qF_xAu9q92yimEOwESd8sc');\r\n            // , {\r\n            //     f: ['o1wxy1mUm1gQcPycsS5mt1bo_l8c~36', 'o1wxy1qF_xAu9q92yimEOwESd8sc~27'],\r\n            //     u: 'o1wxy1oOk1qDhhxKhPD7kT2t_fNc',\r\n            //     actId: 26\r\n            // });\r\n            console.log(result);\r\n        },\r\n        viewShare (r) {\r\n            this.shareModal = true;\r\n            this.shareModalTitle = `${r.epName} - ${r.name} 的分发对象`;\r\n            this.getShareObject(r.id);\r\n        },\r\n        async getShareObject (actId) {\r\n            const result = await this.get(`/api/nmedia/content/share/${actId}`);\r\n            this.shareData = result.value;\r\n        },\r\n        cancelShareModal () {\r\n            this.shareModal = false;\r\n        },\r\n        viewDetail (item) {\r\n            this.detailModal = true;\r\n            Object.keys(this.detailData).forEach(key => this.detailData[key] = item[key]);\r\n        },\r\n        hideModifyWindow () {\r\n            this.modifyModal = false;\r\n        },\r\n        modifyActivt (r) {\r\n            this.modifyModal = true;\r\n            // 调用子组件中的方法\r\n            this.$refs.modifyRef.initModifyData(r);\r\n        },\r\n        submitModify () {\r\n            this.$refs.modifyRef.submitModifyData();\r\n        },\r\n        async viewQcode () {\r\n            this.qcodeModal = true;\r\n            await QrCodeWithLogo.toCanvas({\r\n                nodeQrCodeOptions: {\r\n                    margin: 0\r\n                },\r\n                canvas: document.getElementById('qr'),\r\n                content: 'aaaaa',\r\n                width: 200\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=68c4a6b4&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"list.vue\"\nexport default component.exports"],"sourceRoot":""}