{"version":3,"sources":["webpack:///./src/nmedia/views/product/addsubproduct.vue?8f0d","webpack:///src/nmedia/views/product/addsubproduct.vue","webpack:///./src/nmedia/views/product/addsubproduct.vue?8cf9","webpack:///./src/nmedia/views/product/addsubproduct.vue","webpack:///./src/nmedia/views/product/addsubproduct.vue?3ce3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","color","_s","product","name","type","on","click","$event","preventDefault","$router","go","ref","model","formValidate","label-width","rules","validate","label","prop","maxlength","value","callback","$$v","$set","trim","expression","long","add","staticRenderFns","addsubproductvue_type_script_lang_js_","data","id","$route","query","Name","Price","Rebate","required","trigger","pattern","message","price","rebate","methods","_add","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","valid","prodId","result","wrap","_context","prev","next","$refs","addSubProduct","sent","post","success","$Notice","title","$Message","error","stop","apply","arguments","product_addsubproductvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addsubproduct_vue_vue_type_style_index_0_id_5b4ddfaa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addsubproduct_vue_vue_type_style_index_0_id_5b4ddfaa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-35e5427e.946b491b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n            新增子产品:\\n            \"),_c('Tag',{attrs:{\"color\":\"blue\"}},[_vm._v(\" \"+_vm._s(_vm.product.name)+\" \")])],1),_c('Button',{staticClass:\"back\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();_vm.$router.go(-1)}}},[_c('Icon',{attrs:{\"type\":\"md-arrow-back\"}}),_vm._v(\"\\n            返回\\n        \")],1)],1),_c('Form',{ref:\"addSubProduct\",attrs:{\"model\":_vm.formValidate,\"label-width\":120,\"rules\":_vm.validate}},[_c('Form-item',{attrs:{\"label\":\"子产品名称\",\"prop\":\"Name\"}},[_c('Input',{attrs:{\"maxlength\":50},model:{value:(_vm.formValidate.Name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"Name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.Name\"}})],1),_c('Form-item',{attrs:{\"label\":\"子产品价格(分)\",\"prop\":\"Price\"}},[_c('Input',{attrs:{\"maxlength\":10},model:{value:(_vm.formValidate.Price),callback:function ($$v) {_vm.$set(_vm.formValidate, \"Price\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.Price\"}})],1),_c('Form-item',{attrs:{\"label\":\"积分抵扣额度\",\"prop\":\"Rebate\"}},[_c('Input',{attrs:{\"maxlength\":3},model:{value:(_vm.formValidate.Rebate),callback:function ($$v) {_vm.$set(_vm.formValidate, \"Rebate\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.Rebate\"}})],1),_c('Button',{attrs:{\"type\":\"primary\",\"long\":\"\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div>\r\n            <h2 class=\"title\">\r\n                新增子产品:\r\n                <Tag color=\"blue\"> {{ product.name }} </Tag>\r\n            </h2>\r\n            <Button class=\"back\" type=\"primary\" @click.prevent=\"$router.go(-1)\">\r\n                <Icon type=\"md-arrow-back\"></Icon>\r\n                返回\r\n            </Button>\r\n        </div>\r\n\r\n        <!--   <form ref=\"AddSubProduct\" :rules=\"validate\" >\r\n            <Input v-model=\"product.id\" ref=\"productId\" type=\"hidden\"/>\r\n            <Input v-model=\"name\" ref=\"name\" placeholder=\"请输入子产品名称\" />\r\n            <Input v-model=\"price\" ref=\"price\" placeholder=\"请输入子产品价格(单位为分)\" />\r\n            <Input v-model=\"price\" ref=\"rebate\" placeholder=\"请输入积分抵扣额度\" />\r\n            <Button @click=\"add\" type=\"primary\" long>新增</Button>\r\n        </form> -->\r\n\r\n        <Form ref=\"addSubProduct\"  :model=\"formValidate\" :label-width=\"120\" :rules=\"validate\">\r\n            <Form-item label=\"子产品名称\" prop=\"Name\">\r\n                <Input v-model.trim=\"formValidate.Name\" :maxlength=\"50\" />\r\n            </Form-item>\r\n            <Form-item label=\"子产品价格(分)\" prop=\"Price\">\r\n                <Input v-model.trim=\"formValidate.Price\" :maxlength=\"10\" />\r\n            </Form-item>\r\n            <Form-item label=\"积分抵扣额度\" prop=\"Rebate\">\r\n                <Input v-model.trim=\"formValidate.Rebate\" :maxlength=\"3\" />\r\n            </Form-item>\r\n            <Button @click=\"add\" type=\"primary\" long>新增</Button>\r\n        </Form>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'AddSubProduct',\r\n    data () {\r\n        return {\r\n            product: {\r\n                id: this.$route.query.id,\r\n                name: this.$route.query.name\r\n            },\r\n            formValidate: {\r\n                Name: '',\r\n                Price: '',\r\n                Rebate: ''\r\n            },\r\n            validate: {\r\n                Price: [{ required: true, trigger: 'blur', pattern: /^[0-9]*[1-9][0-9]*$/, message: '产品价格必须为正整数' }],\r\n                Name: [{ required: true, trigger: 'blur', message: '产品名称不能为空' }],\r\n                Rebate: [{ required: true, trigger: 'blur', pattern: /(^[1-9][0-9]$|^[0-9]$|^100$)/, message: '积分抵扣额度必须为0-100的整数' }]\r\n            },\r\n            name: null,\r\n            price: null,\r\n            rebate: null\r\n        };\r\n    },\r\n    methods: {\r\n        async add () {\r\n            const valid = await this.$refs.addSubProduct.validate();\r\n            if (valid) {\r\n                const prodId = this.$route.query.id;\r\n                const name = this.formValidate.Name;\r\n                const price = this.formValidate.Price;\r\n                const rebate = this.formValidate.Rebate;\r\n                const result = await this.post('/api/nmedia/sub/product/', { prodId, name, price, rebate });\r\n                if (result.success) {\r\n                    this.$Notice.success({ title: '新增子产品成功' });\r\n                    this.name = null;\r\n                    this.price = null;\r\n                    this.rebate = null;\r\n                }\r\n            } else {\r\n                this.$Message.error('表单验证失败!');\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\n.title {\r\n    display: inline-block;\r\n}\r\n.back {\r\n    float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addsubproduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addsubproduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addsubproduct.vue?vue&type=template&id=5b4ddfaa&scoped=true&\"\nimport script from \"./addsubproduct.vue?vue&type=script&lang=js&\"\nexport * from \"./addsubproduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addsubproduct.vue?vue&type=style&index=0&id=5b4ddfaa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b4ddfaa\",\n  null\n  \n)\n\ncomponent.options.__file = \"addsubproduct.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addsubproduct.vue?vue&type=style&index=0&id=5b4ddfaa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addsubproduct.vue?vue&type=style&index=0&id=5b4ddfaa&scoped=true&lang=css&\""],"sourceRoot":""}